# 容斥原理

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image.png)

## 集合的并

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image 1.png)

将三个集合内容相加，去重

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image 2.png)

**注意1**

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image 3.png)

我们可以注意到以上特点，而不需要使用试除法

**注意2**

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image 4.png)



**代码**

```C++
hole
```

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image 5.png)

**重点**

重点理解

- `sign`的含义

- `if((LL)t*prim[j]>n)`的含义

- 位运算

复杂度 $ O(m\times 2^m)$

## 集合的交

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image 6.png)

**e.g.**

![image.png](容斥原理+9e8c7af4-657b-4d10-b53d-395819dae223/image 7.png)

交集为{2,5}

注：绿框不是集合

**例题**

[547 容斥原理 集合的交_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1ZK41127tu/?spm_id_from=autoNext&vd_source=f45ea4e1e4b3b73d5f07c57b46c43aba)

[https://luogu.com.cn/problem/P1450](https://luogu.com.cn/problem/P1450)

