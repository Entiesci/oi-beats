> 算法竞赛一句话解题&经典问题分析 ©ntsc 2024 **镜像** 上次同步：@2024/07/21

[算法竞赛一句话解题&经典问题分析 ©ntsc 2024](https://flowus.cn/0788941f-01ca-4ec0-8d67-c13ae50e97ad)

---



![image.png](一句话解题/image.png)

原名：算法竞赛一句话解题&经典问题分析 ©ntsc 2024

处理进度（仅仅处理了作者做过的题目，且不保证顺序！）
- 绿：P6824
- 蓝：P1099

> 致CSDN网友：
本文章不定期更新！文章链接：[https://blog.csdn.net/hzx616599/article/details/139567004](https://blog.csdn.net/hzx616599/article/details/139567004)

# 经典问题分析

### 基础知识与编程环境

- 了解树的中序遍历的性质来设计算法→P1040

- 按二进制每一位分开算→记前缀异或值X[0...N]，一段区间[L, R]的异或值就是X[L-1] xor X[R]→那么就是统计有多少个区间的异或值是1，那只需要统计X[0...N]中是0和1的分别有多少个，两个个数相乘就是区间个数。→P3917

- 每一位拆开→定义f_j为以a_j结尾的答案，g_i为到a_j时第i位为1的长度→P4310

- 预处理→P8865

- 构造一个x，使得满足a_i^（异或）x<k的i最多→对每个a_i考虑，发现使a_i^x<k的x是连续的一段→逐位考虑，求出x的区间，相当于一条线段→求出覆盖线段最多的那个x就是答案→P6824

### 思维

- 考虑每一个数字的贡献而不是考虑每一种情况那个数字做贡献→[mna.816/p4](https://mna.wang/contest/816/problem/4)

- 观察数据访问，发现一个范围很小→将这个数据作为最外层循环，每次考虑这个数据取特定值时的答案的求解→P1311

- 求最优化一个计算式，并且里面有一个值需要你来确定，并且不好直接求→二分→优化每一次计算过程→O(n)求多个询问区间内>m的数字的个数之和→先把≤m的数字赋0，然后跑前缀和，再对每个询问O(1)处理→P1314

- 将字符串哈希后离散化→双指针，右端点不断扩散（右移），左端点贪心地缩小（右移）→P1381

- 正确计算求因数的复杂度（是O(\sqrt n)而不是O(n)）→发现暴力可行→P1483

- 转化为模型→求集合中小于k的最大值和大于k的最小值→set→P1503

- 简单的数学贪心→连接1~n加热第1杯，再连接2~n加热第2杯，再……→P1984

- 结论题→P2041

- 逐位考虑后贪心取每一位的最大值→P2114

- 直接搜索不行，因为发现m较小，考虑结合贪心→贪心先分出最短的木板→二分答案→搜索验证→剪枝→P2329

- [ ] 贪心的线段覆盖问题→线段按右端点排序后，再从小到大将每个点排序→P2887

- 直接模拟→先把所有牛的高度设为最高值，如果某两头牛之间能互相看到的话，那直接把中间这些牛的高度都减一→证明合法：唯一不合法的就是给出关系[a,b][c,d],且b>c，那么按上面模拟就会不满足[a,b]，但是发现这种情况本来就无解，所以上面的是正确的→P2879

- 结合数据范围，直接使用map记录每个单词的出现文章，规避正解→P3879

- 当贪心有时不能证明时，就在时间复杂度允许的情况下多算一点→P4395，——也许会像只填1或者2，但是实际上可能填3，所以我们考虑只填1\sim 20即可。

- 等价集合问题→把 **能够被其他钱凑出来的钱** 给筛掉，剩下的就是我们必须要保留的面值→P5020

- 合并果子加强版，每次取出最小的两堆，不能使用优先队列（log n）→维护两个递增队列,p,q，p为原果子桶排后的结果。每次从两个队头比较并取出两个最小的，然后放入q的队尾。可以保证单调性→P6033

### STL 模板

### 排序算法&分治

- 在DAG中，更新一个点的信息如果需要先更新其来点→拓扑排序→P1038

- 一些偏序问题（非计数类），考虑拓扑排序进行顺序确定→考虑不同情况反映在DAG中的情况→一定有序：存在n长链/错误：有环→P1347

- 分层问题→给出一些节点的层级关系，要求分层→P1983

- 考虑使用分治→扫描左部，将答案记录到树状数组中，然后扫描右部u，在树状数组中取符合要求的范围的区间和即可→权值树状数组→P5459

- [ ] cdq分治→P5459

### 搜索算法

- 打表→P1549，P1790（也可使用搜索究极优化，插头dp）

- $O(2^{40})$的搜索→Meet in the middle→P4799

- 数据范围小的时候可以考虑直接搜索（填表）→P1004

- 有些时候看上去n不适合搜索（e.g. n=50），但是加上剪枝也许就是正解→剪枝优化时间复杂度的证明和计算→P1034

- 常见数矩阵个数优化（n^4变n^3）→P1191

- 结合计算性质进行剪枝→P1092

- 枚举/搜索→P1378，P1441，P1731，P1120。P2476,P4537

- 结合dfs继续树上递推→f_{x,dep}=\sum f_{v,dep-1}→P3047

- bfs→P3956，P5195

### 图论算法

- 应用分层图思想【模型】→P1073

- [ ] 记录附加信息的最短路→P1078，P1144，P1608，P2047

- 给定关系求层级数最小值→先整理出约束（e.g. A在B之上），连有向边→求最长链→拓扑排序→P1983

- 总结出最后的图的特点→生成树→最大生成树→证明某些很难解决的情况不存在→简单解决→P1265

- 结合数据范围，考察floyd算法可以实现的内容→求出任意两个点之间的距离→枚举配对→考察答案的几个情况→P1522

- 预处理图后再跑最短路→删除不合法的点→P2296

- 考虑到一个点要是有出度到v，那么一定要有从v来的入度，这个点才可能全员可达→点属于强连通分量→强连通分量找到唯一一个没有出度的集合，集合内所有点都合法→如果有两个集合满足，则无答案。→P2341

- 将决策转化位图论模型→留在原地：自环，自爆：超级汇点→从floyd算法的角度考虑，A^k（A为邻接矩阵）的第i行第j列的数字含义是从i到j经过k步的路径方案总数→矩阵快速幂→累加A_{1,i}→P3758，P5789

- 二分图最大匹配→P3386

- Tarjan→P3387,P3388,P2863

- Tarjan处理链和环→P2921

- 判断x和y之间是否存在长度为k的非简单路径（无环）→路径长度可以是$l+2k,k\in \N$，l为最短距离→P5663

- 差分约束→将不等式条件转化为图（x_i≤x_j+d_k，就按照最劣的建边，把x看成点，x的值看成dis，所以就建x_i→x_j,w=d_k）最后跑最短路，得到x的解。如果有负环，则无解，可以跑出来，就有解→P5960

- P5663→考虑在一条边上往返奇偶性不变→对要求的阶段分奇偶讨论→求出1到其它节点的最短奇/偶数长度路径，O(1)回答

- 对有大量边权相同（分组）的图建最小生成树→考虑kruskal本质：不断取出边权最小的边且保证没有环出现→一次取多条边

- 每次构造一条边（损坏或者完好），使得最后一条边构造出来后才知道图是否被完好边联通→首先必须是生成树，并且最后被询问到的边一定要是树边，并且最后一条边的建立要实现这颗生成树而不能不联通→让每个点最后被构造的连边为树边→可以证明是生成树且符合要求→P5884

### 线性结构

- 单调队列优化dp→P1725

### 集合与森林

- 使用并查集额外维护集合信息→将集合信息统一整理至某一个集合的代表元素上去，注意清空过期的代表元素→P1196

- 断边维护连通块个数→化断边为加边→P1197

- [ ] 扩展域并查集→P1525，P1892，P2024

- 简单并查集维护，先处理相等的约束→P1982

- 、先解决环的情况→缩点→然后拓扑排序→P1262

- 区间2反转求和问题→线段树维护异或tag→P3870

- 树上的括号栈问题→括号序列计数问题→出现一个`)`，它可以和之前的形成一个`(..)`的括号序列，这个序列还可以和前面的一些序列并列，形成更多合法序列→对每一个位置x记录以其为结尾的括号序列个数c_x，下一次若以son(x)为开头形成了一个括号序列，那么实际上有c_x+1个序列被形成，并且维护c数组→P5658

- 给出若干条件：[l,r]之和为奇数/偶数，求最早矛盾→扩展域并查集→维护左右端点处前缀和的奇偶性→若给出区间[l,r]为奇数，那么pre_l，pre_r应该在不同并查集内，检查矛盾；另外一种类似。→P5937

### 树形结构

- 维护树链上的信息→树上倍增，树剖

- 维护子树信息→dfn线段树

- 从题目中整理出树的性质→设计树形dp进行最优方案求解→P1131

- 结合数据范围，预估复杂度→搜索→设计搜索→因为每一层只能切断一个，所以就可以对每一个节点搜索其最优的切断方式（使用回溯的数据来贪心选择）→P1041

- 理清题意→整理出答案的几种来源/情况→对于每一种情况独立思考做法，最后组合起来→P1099←答案有两种情况：来自直径两端，来自最长的侧链。并且来自最长的侧链的那个答案只需要计算侧链端点到直径的距离即可。不需要考虑侧链+一部分直径的情况，因为如果这种情况可以作为答案，那么直径就要改了！

- 考虑每一个路线对那些点有贡献→树上路径加→树上前缀和→P3128

- 判断树上两条路径是否有交→分类讨论→求lca→P3398

- 求树上所有一段为根节点的串上的合法括号串数量→dfs中维护栈→P5658

### 数据结构

- 动态维护数字序列信息→权值线段树→P1168

- 线段树模板→P1198，P1253,P3372,P3373

- 偏序问题，又带有一点dp（上升序列）→使用数据结构优化dp→树状数组优化转移→P1637

- 平衡树查询寻值前驱和后继→P1110

- 维护区间极值+正负性分讨→P8818

- 树状数组→P5094 

- 统计区间和在[l,r]的区间个数→考虑类似逆序对的树状数组做法，右端点扫右边，左端点O(1)统计→离散化→P5459

- 可以使用multiset模拟二叉搜索树→P5076

### 算法策略

- 维护4指针2区间信息→莫队，将4指针拆为2指针及多个询问→P5268

### 字符串算法 哈希表

- [ ] kmp→P3375

- 字典树→建树技巧与树上匹配→P2922

- 字符串ss的**最小循环子串**，就是ss的**最大公共前后缀→**P4391

- 树哈希（树同构）→P5018

### 动态规划

- 用“非法情况一定更劣”来消去需要考虑非法的情况→P1006

- dp不就是枚举情况并选最优吗？→P1040

- 断环为链→P1043，P1063

- 题目中有明显的“合并”流程，则考虑区间dp→P1063，P1880（与贪心的那道题区分），P1220，P3146

- 依赖背包嗯可以看成树形dp来做→P2014，如附件数量很少则可以枚举每个主件和附件的配对情况并作为一个物品的多种情况。当遇到一个物品有多个挡位时的背包问题也可以参考本题→P1064

- 从题目信息中构造出背包（f_{i,j}）的物品(i)及两个维度（价值(f)和容量(j)）→P1156，P1282,P5322

- 考虑树形dp并考虑复杂度→P1273

- [ ] 主要考验dp转移的设计以及dp优化→思维→P1070

- 一开始考虑贪心→给定方案计算答案很快→不好实现，所以使用搜索（计算每一种可行情况）→使用dp实现记忆化搜索→压维优化→P1284

    - 期望dp→得出概率的计算式→使用dp求出计算式中的值并计算→本题：第i题对的概率=i-1题答案=i题答案→P1297→其它题目：P2111

- 树形dp，最大权独立集→P1352

- 简单树形dp→P2015，P2016,P2585

- 非常规最长公共子序列→转化为最长上升子序列→P1439

- 记忆化搜索（dp状态设计）→P1541

- 数位dp→从高位到低位，逐位考虑非限制，递归非限制→P1836,P2602，P4999

- 带方案输出的简单dp→P1854

- 抽象出模型→转化为背包dp→P1941

- dp状态的设计→在设计dp状态时，考虑如何使用最少的状态表现出我们所有需要的信息→f_{i,j}表示考虑了前i个人，1其中在窗口1打菜的总时间为t时完成所有活动的总用时→P2577

- 查看数据范围，发现可以O(nmk)→定义f_{i,j,k}为S_{1→i}与T_{1→j}匹配且分为k块→循环i,j,k，要求快速判断S,T中两个片段能否匹配→预处理g_{i,j,k}为S_i,T_j结尾的两个长度为k的字符串是否相同→P2679

- 小规模最优分组问题→状态压缩→f[i]代表当前状态为i时最小的分组数→P3052

- [ ] 区间dp转移式的推导→P3205

- [ ] 换根dp→P2986，P3478

- 树形dp→考虑到有以及染色的，所以在dp时砍掉不符合的f值→P4084

- 类似括号匹配的（如决策为扩展一边/同时扩展两边）→P4170

    - f_{i,j}定义为保留第i个点塔，差值为j的方案数,枚举上一个保留的塔→P4933

### 数学与其他

### 初等数学

- 总结出性质来优化枚举的复杂度→P1072

- 要勤于推导式子→推导后得出贪心算法而不是一开始选择dp→P1080

- 因子和的相关性质→因子和=$\prod_j( \sum_{i(0~k)} p_j^i)$→P1593

- 给出数列递推公式快速求第K项目（K很大）→矩阵快速幂→特殊情况还要使用龟速乘→P2044

- 数学推导约束优化枚举→前缀和优化方案统计→P2119

- 推导数学规律→两个点一起向上走→由数学推导快速得出一个点的祖先编号→模拟上跳→P3938

- [ ] 期望dp的逆推法→P4316

- 递推逆元快速计算→P5431

### 初等数论

- [ ] 扩展欧几里得变形与理解→P1082

- [ ] 扩展欧几里得→P5656

- 矩阵乘法→P1349，P1962，扩展矩阵乘法→P1939

- [ ] 同余方程组的求解→P1516,P2613

- 先写出f的递推式→矩阵优化→P5789

### 离散与组合数学

- 考虑划分问题为子问题→考虑递推公式→卡特兰数→P2532

- 数据范围允许杨辉三角递推→考虑答案的递推式→理解组合数的递推式→`ans[i][j]=ans[i-1][j]+ans[i][j-1]-ans[i-1][j-1]; if(c[i][j]%k==0)ans[i][j]++;`→P2822

- 简单组合→发现没有取模，需要高精度→P3223

- Lucas 定理→P3807

- 类似数位dp的逐位考虑→组合数计算方案→P5367

### 线性代数

### 高等数学

### 最优化

- [ ] 博弈论→P1247，P2197

- [ ] 舞蹈链及其变形→P1074

- [ ] 一个单调队列→P3522

### 计算几何

### 信息论



